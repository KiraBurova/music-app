(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{3910:function(t,r,n){"use strict";n.d(r,{S:function(){return j},h:function(){return g}});var e=n(29),s=n(7794),a=n.n(s),c=n(8304),i=n(4144),u=n.n(i),o=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()("".concat(p,"/search/artist?q=").concat(r,"&output=jsonp"));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),l=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()("".concat(p,"/artist/").concat(r,"&output=jsonp"));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),d=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()("".concat(r,"&output=jsonp"));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),p="https://api.deezer.com",f=(0,c.GW)(function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(r);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),x=(0,c.GW)(function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),_=(0,c.GW)(function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(r);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),h=(0,c.MT)([]).on(f.doneData,(function(t,r){return r})),v=(0,c.MT)(null).on(x.doneData,(function(t,r){return r})),m=(0,c.MT)(null).on(_.doneData,(function(t,r){return r})),j={getArtistsListFx:f,getArtistFx:x,getTracklistFx:_},g={artists:h,artist:v,tracklist:m}},2570:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return k}});var e=n(7294),s=n(1163),a=n(4190),c=n(6245),i=n(5893),u=function(t){var r=t.children;return(0,i.jsx)("div",{children:r})},o=n(5966),l=n.n(o),d=function(t){var r=t.artist,n=r.name,e=r.picture_big,s=r.nb_album,a=r.nb_fan;return(0,i.jsx)(u,{children:(0,i.jsxs)("div",{className:l().artistBigCard,children:[(0,i.jsx)("img",{src:e,className:l().cardImage}),(0,i.jsxs)("div",{className:l().cardText,children:[(0,i.jsx)("span",{className:l().cardName,children:n}),(0,i.jsxs)("span",{children:[(0,c.u)(a)," fans"]}),(0,i.jsxs)("span",{children:[(0,c.u)(s)," albums"]})]})]})})},p=n(3910),f=n(9933),x=n(3352),_=n.n(x),h=n(3384),v=n.n(h),m=function(t){var r,n=t.track,s=(0,e.useRef)();return(0,e.useEffect)((function(){s.current.volume=.1}),[]),(0,i.jsxs)("div",{className:v().card,children:[(0,i.jsx)("img",{src:n.album.cover_medium}),(0,i.jsxs)("div",{className:v().tackInfo,children:[n.title," (",n.album.title,")",n.explicit_lyrics&&(0,i.jsx)("span",{className:v().explicit,children:"E"}),(0,i.jsx)("div",{children:(r=n.duration,Math.floor(+r/60)+":"+("0"+Math.floor(+r%60)).slice(-2))}),(0,i.jsxs)("audio",{"data-testid":"audio-player",controls:!0,ref:s,className:v().audioPlayer,children:[(0,i.jsx)("source",{src:n.preview,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})]})},j=function(t){var r=t.tracklist,n=t.loadingTracklist;return(0,i.jsx)(i.Fragment,{children:n?(0,i.jsx)(f.Z,{}):(0,i.jsx)("div",{className:_().artists,children:r&&r.map((function(t){return(0,i.jsx)(m,{track:t},t.id)}))})})},g=n(9849),w=n.n(g),y=function(){var t=(0,s.useRouter)().query.id;(0,e.useEffect)((function(){t&&p.S.getArtistFx(t).then((function(t){p.S.getTracklistFx(t.tracklist)}))}),[t]);var r=(0,a.oR)(p.h.artist),n=(0,a.oR)(p.h.tracklist),c=(0,a.oR)(p.S.getArtistFx.pending),u=(0,a.oR)(p.S.getTracklistFx.pending);return(0,i.jsx)("div",{className:w().detailedArtist,"data-testid":"detailed-artist",children:c?(0,i.jsx)(f.Z,{className:w().loader}):(0,i.jsx)(i.Fragment,{children:r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{artist:r}),(0,i.jsx)(j,{tracklist:n,loadingTracklist:u})]})})})};function k(){return(0,i.jsx)(y,{})}},6245:function(t,r,n){"use strict";n.d(r,{u:function(){return e}});var e=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}},9933:function(t,r,n){"use strict";var e=n(4184),s=n.n(e),a=n(2982),c=n.n(a),i=n(5893);r.Z=function(t){var r=t.className;return(0,i.jsx)("svg",{"data-testid":"loader",className:s()(c().spinner,r),width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("circle",{className:c().path,fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})})}},2461:function(t,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/artists/[id]",function(){return n(2570)}])},5966:function(t){t.exports={artistBigCard:"styles_artistBigCard__OvsvP",cardName:"styles_cardName__y3CXs",cardText:"styles_cardText__ycLhC"}},3384:function(t){t.exports={card:"styles_card__6UCt4",tackInfo:"styles_tackInfo__Xg6IJ",explicit:"styles_explicit__nUqcL",audioPlayer:"styles_audioPlayer__lF_cX"}},3352:function(t){t.exports={card:"styles_card__GD4w2"}},2982:function(t){t.exports={spinner:"styles_spinner__VkqOd",rotator:"styles_rotator___wwpn",path:"styles_path__qgA17",dash:"styles_dash__sZqWu"}},9849:function(t){t.exports={detailedArtist:"styles_detailedArtist__hqw7d",loader:"styles_loader__n_YEm"}},1163:function(t,r,n){t.exports=n(9898)}},function(t){t.O(0,[232,774,888,179],(function(){return r=2461,t(t.s=r);var r}));var r=t.O();_N_E=r}]);